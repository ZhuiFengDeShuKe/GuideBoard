{"version":3,"sources":["main.js"],"names":["$list","$","$lastLi","find","defaultList","logo","url","boardListString","localStorage","getItem","boardListObject","JSON","parse","boardList","refresh","on","e","urlTmp","window","prompt","indexOf","node","simplifyUrl","toUpperCase","push","addBoard","length","onbeforeunload","stringify","setItem","document","key","forEach","toLowerCase","open","index","$newLi","insertBefore","stopPropagation","splice","remove","replace"],"mappings":"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","file":"main.d8314056.js","sourceRoot":"../src","sourcesContent":["const $list = $('.board-list')\nconst $lastLi = $list.find('li.last')\nconst defaultList = [\n    {\n        logo: 'G',\n        url: 'http://google.com'\n    },\n    {\n        logo: 'G',\n        url: 'http://github.com'\n    },\n]\nconst boardListString = localStorage.getItem('BoardList')\nconst boardListObject = JSON.parse(boardListString)\nlet boardList = boardListObject || defaultList\n\nrefresh()\n\n// 添加按钮加点击事件\n$('.board-add')\n    .on('click', (e) => {\n        let urlTmp = window.prompt('给个网址吧~')\n        if (urlTmp.indexOf('http://') !== 0 && urlTmp.indexOf('https://') !== 0) {\n            urlTmp = 'https://' + urlTmp\n        }\n\n        const node = {\n                        logo: simplifyUrl(urlTmp)[0].toUpperCase(),\n                        url: urlTmp\n                     }\n        boardList.push(node)\n        addBoard(node, boardList.length - 1)\n    })\n\n// 退出页面时保存页签\nwindow.onbeforeunload = () => { \n    const boardListString = JSON.stringify(boardList)\n    localStorage.setItem('BoardList', boardListString)\n}\n\n// 按下按键打开相应的网站\n$(document)\n    .on('keypress', (e) => {\n        const {key} = e\n        boardList.forEach((node) => {\n            if (node['logo'].toLowerCase() === key) {\n                window.open(node['url'])\n            }\n        })\n    })\n\n// 添加一个网站方块\nfunction addBoard(node, index) {\n    const $newLi = $(`<li>\n                        <div class=\"board-common\">\n                            <div class=\"logo\">${node['logo']}</div>\n                            <div class=\"link\">${simplifyUrl(node['url'])}</div>\n                            <svg class=\"close\" aria-hidden=\"true\">\n                                <use xlink:href=\"#icon-close\"></use>\n                            </svg>\n                        </div>\n                    </li>`).insertBefore($lastLi)\n    \n    // 方块的点击事件\n    $newLi.on('click', (e)=> {\n        window.open(node['url'])\n    })\n    \n    // 方块的删除按钮\n    $newLi.on('click', '.close', (e)=> {\n        e.stopPropagation()\n        boardList.splice(index, 1)\n        refresh()\n    })\n}\n\nfunction refresh() {\n    $list.find('li:not(.last)').remove()\n    boardList.forEach((node, index) => {\n        addBoard(node, index)\n    })\n}\n\nfunction simplifyUrl(url) {\n    return url.replace('http://', '')\n        .replace('https://', '')\n        .replace('www.', '')\n        .replace(/\\/.*/, '') // 删除 / 开头的内容\n}"]}